<?php
$subbed = is_subscribed($current_user, $object);
$subunsub = $subbed ? 'unsubscribe' : 'subscribe';
$icon = $icon ?? false;
?>
<a href="<?= Request::base($object->href($subunsub)) ?>" class="<?= $icon ? 'btn-info btn-sm' : '' ?>" <?= $icon ? 'title="' . l($subunsub) . '"' : '' ?>>
    <?php if ($icon) : ?>
        <span class="fas fa-fw fa-<?= $subbed ? 'eye-slash' : 'eye' ?>"></span>
        <span class="visually-hidden"><?= l($subunsub) ?></span>
    <?php else : ?>
        <?= l($subunsub) ?>
    <?php endif; ?>
</a>
